<!DOCTYPE html>

<html lang="en-US" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Integer &amp; Bitwise Arithmetic Functions</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=0fbef478" />
    <link rel="stylesheet" type="text/css" href="../_static/quark.css?v=b0b2863f" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="next" title="Statistical Functions" href="statistical.html" />
    <link rel="prev" title="Basic Math Functions" href="basic.html" />
    <link rel="stylesheet" href="../" type="text/css" />

  </head><body>
  <table class="navbar navbar-top">
    
  <tr>
    <td width="50%">
      <a class="nav-item nav-item-0"
         href="../contents.html">SpeedCrunch 0.12.1 documentation</a> &#187; <a class="nav-item nav-item-1"
             href="index.html">Reference</a>
          
    </td>

    <td align="right" width="50%">
      <a class="rel-item rel-item-1"
           href="basic.html"
           title="Basic Math Functions"
           accesskey="P">previous</a>
         | 
      <a class="rel-item rel-item-2"
           href="statistical.html"
           title="Statistical Functions"
           accesskey="N">next</a>
         | 
      <a class="rel-item rel-item-3"
           href="../sc-functionindex.html"
           title="Function Index"
           >functions</a>
         | 
      <a class="rel-item rel-item-4"
           href="../genindex.html"
           title="General Index"
           accesskey="I">index</a>
        
      
    </td>

  </tr>

  </table>


    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <section id="integer-bitwise-arithmetic-functions">
<h1>Integer &amp; Bitwise Arithmetic Functions</h1>
<section id="bitwise-operations">
<h2>Bitwise Operations</h2>
<dl class="sc function">
<dt class="sig sig-object sc" id="sc.and">
<span class="sig-name descname"><span class="pre">and</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x1</span></em>; <em class="sig-param"><span class="pre">x2</span></em>; <em class="sig-param"><span class="pre">...</span></em><span class="sig-paren">)</span></dt>
<dd><p>Performs a bitwise logical AND on the submitted parameters (at least two). All parameters have to be real integers from the range -2<sup>255</sup> to +2<sup>255</sup>-1 (signed or unsigned 256 bit integers), non integer arguments are rounded toward zero. The result ranges from -2<sup>255</sup> to +2<sup>255</sup>-1 (signed integer).</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.or">
<span class="sig-name descname"><span class="pre">or</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x1</span></em>; <em class="sig-param"><span class="pre">x2</span></em>; <em class="sig-param"><span class="pre">...</span></em><span class="sig-paren">)</span></dt>
<dd><p>Performs a bitwise logical OR on the submitted parameters (at least two). All parameters have to be integers from the range -2<sup>255</sup> to +2<sup>255</sup>-1 (signed integer), non integer arguments are rounded toward zero.</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.xor">
<span class="sig-name descname"><span class="pre">xor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x1</span></em>; <em class="sig-param"><span class="pre">x2</span></em>; <em class="sig-param"><span class="pre">...</span></em><span class="sig-paren">)</span></dt>
<dd><p>Performs a bitwise logical XOR on the submitted parameters (at least two). All parameters have to be integers from the range -2<sup>255</sup> to +2<sup>255</sup>-1  (signed integer), non integer arguments are rounded toward zero.</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.not">
<span class="sig-name descname"><span class="pre">not</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">n</span></em><span class="sig-paren">)</span></dt>
<dd><p>The <a class="reference internal" href="#sc.not" title="not"><code class="xref sc sc-func docutils literal notranslate"><span class="pre">not()</span></code></a> function is defined by <code class="docutils literal notranslate"><span class="pre">not(x)</span> <span class="pre">=</span> <span class="pre">-x-1</span></code>, giving the same result as the one’s complement operator <code class="docutils literal notranslate"><span class="pre">~</span></code> in C/C++.</p>
<table class="-x-quark-box -x-quark-admonition -x-quark-warning"><tbody><tr><td width="100%" class="-x-quark-box-td"><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This function does <em>not</em> simply flip the bits!</p>
</div>
</td></tr></tbody></table></dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.shl">
<span class="sig-name descname"><span class="pre">shl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x</span></em>; <em class="sig-param"><span class="pre">n</span></em><span class="sig-paren">)</span></dt>
<dd><p>Performs an arithmetic left shift.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – The number (bit pattern) to shift, -2<sup>255</sup> &lt;= <code class="docutils literal notranslate"><span class="pre">x</span></code> &lt;= +2<sup>256</sup>-1.</p></li>
<li><p><strong>n</strong> – Number of bits to shift, -255 &lt;= <code class="docutils literal notranslate"><span class="pre">n</span></code> &lt;= 255. Must be integer.</p></li>
</ul>
</dd>
</dl>
<p>Note that <code class="docutils literal notranslate"><span class="pre">n</span></code> &lt; 0 results in a right shift. The result ranges from -2<sup>255</sup> to +2<sup>255</sup>-1 (signed integer). <code class="docutils literal notranslate"><span class="pre">x</span></code> is rounded toward zero before shifting.  If <code class="docutils literal notranslate"><span class="pre">n</span></code> = 0, <code class="docutils literal notranslate"><span class="pre">x</span></code> is returned without rounding.</p>
<p>Shifted out bits are always dropped. During a right shift, the most significant bit (bit 255) is copied. During a left shift, zero bits are shifted in.</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.shr">
<span class="sig-name descname"><span class="pre">shr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x</span></em>; <em class="sig-param"><span class="pre">n</span></em><span class="sig-paren">)</span></dt>
<dd><p>Performs an arithmetic right shift.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – The number (bit pattern) to shift, -2<sup>255</sup> &lt;= <code class="docutils literal notranslate"><span class="pre">x</span></code> &lt;= +2<sup>256</sup>-1.</p></li>
<li><p><strong>n</strong> – Number of bits to shift, -255 &lt;= <code class="docutils literal notranslate"><span class="pre">n</span></code> &lt;= 255. Must be integer.</p></li>
</ul>
</dd>
</dl>
<p>Note that <code class="docutils literal notranslate"><span class="pre">n</span></code> &lt; 0 results in a left shift. The result ranges from -2<sup>255</sup> to +2<sup>255</sup>-1 (signed integer). <code class="docutils literal notranslate"><span class="pre">x</span></code> is rounded toward zero before shifting.  If <code class="docutils literal notranslate"><span class="pre">n</span></code> = 0, <code class="docutils literal notranslate"><span class="pre">x</span></code> is returned without rounding.</p>
<p>Shifted out bits are always dropped. During a right shift, the most significant bit (bit 255) is copied. During a left shift, zero bits are shifted in.</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.mask">
<span class="sig-name descname"><span class="pre">mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x</span></em>; <em class="sig-param"><span class="pre">n</span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns the lowest <code class="docutils literal notranslate"><span class="pre">n</span></code> bits from <code class="docutils literal notranslate"><span class="pre">x</span></code>. For this, <code class="docutils literal notranslate"><span class="pre">x</span></code> must be in the range -2<sup>255</sup> &lt;= <code class="docutils literal notranslate"><span class="pre">x</span></code> &lt;= +2<sup>256</sup>-1, and <code class="docutils literal notranslate"><span class="pre">n</span></code> must be an integer, 1 &lt;= <code class="docutils literal notranslate"><span class="pre">n</span></code> &lt;= 255. <code class="docutils literal notranslate"><span class="pre">x</span></code> is rounded toward zero.</p>
<p>The result is always unsigned.</p>
<p>Example: Getting the two’s complement of -1 in a 16-bit system:</p>
<table class="-x-quark-literal-block"><tbody><tr><td width="100%" class="-x-quark-literal-block-td"><div class="highlight-speedcrunch notranslate"><div class="highlight"><pre><span></span><span class="n">hex</span><span class="p">(</span><span class="n">mask</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span> <span class="mi">16</span><span class="p">))</span>
<span class="ge">= 0xFFFF</span>
</pre></div>
</div>
</td></tr></tbody></table></dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.unmask">
<span class="sig-name descname"><span class="pre">unmask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x</span></em>; <em class="sig-param"><span class="pre">n</span></em><span class="sig-paren">)</span></dt>
<dd><p>Takes the lower <code class="docutils literal notranslate"><span class="pre">n</span></code> bits from <code class="docutils literal notranslate"><span class="pre">x</span></code> and sign-extends them to full 256 bits. This means that bit at position <em>n-1</em> is copied to all upper bits.</p>
<p>The value of <code class="docutils literal notranslate"><span class="pre">x</span></code> must be in the range <em>-2</em> <sup>255</sup> <em>&lt;= x &lt;= +2</em> <sup>256</sup> <em>-1</em>, and <code class="docutils literal notranslate"><span class="pre">n</span></code> must be an integer, <em>1 &lt;= n &lt;= 255</em>. <code class="docutils literal notranslate"><span class="pre">x</span></code> is rounded toward zero.</p>
<p>Example: Converting a number in two’s complement representation to a signed number:</p>
<table class="-x-quark-literal-block"><tbody><tr><td width="100%" class="-x-quark-literal-block-td"><div class="highlight-speedcrunch notranslate"><div class="highlight"><pre><span></span><span class="n">unmask</span><span class="p">(</span><span class="mh">0xFFFF</span><span class="p">;</span> <span class="mi">16</span><span class="p">)</span>
<span class="ge">= -1</span>
<span class="n">unmask</span><span class="p">(</span><span class="mh">0x1FFF</span><span class="p">;</span> <span class="mi">16</span><span class="p">)</span>
<span class="ge">= 0x1FFF</span>
</pre></div>
</div>
</td></tr></tbody></table></dd></dl>

</section>
<section id="numeral-bases">
<h2>Numeral Bases</h2>
<p>The following functions only change the format for the current result. To change the base
that is used for displaying results, select one of the corresponding settings in <span class="menuselection">Settings ‣ Result Format</span>.</p>
<dl class="sc function">
<dt class="sig sig-object sc" id="sc.bin">
<span class="sig-name descname"><span class="pre">bin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">n</span></em><span class="sig-paren">)</span></dt>
<dd><p>Format <code class="docutils literal notranslate"><span class="pre">n</span></code> as binary (base-2).</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.oct">
<span class="sig-name descname"><span class="pre">oct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">n</span></em><span class="sig-paren">)</span></dt>
<dd><p>Format <code class="docutils literal notranslate"><span class="pre">n</span></code> as octal (base-8).</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.dec">
<span class="sig-name descname"><span class="pre">dec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">n</span></em><span class="sig-paren">)</span></dt>
<dd><p>Format <code class="docutils literal notranslate"><span class="pre">n</span></code> as decimal (base-10).</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.hex">
<span class="sig-name descname"><span class="pre">hex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">n</span></em><span class="sig-paren">)</span></dt>
<dd><p>Format <code class="docutils literal notranslate"><span class="pre">n</span></code> as hexadecimal (base-16).</p>
</dd></dl>

</section>
<section id="rounding">
<h2>Rounding</h2>
<dl class="sc function">
<dt class="sig sig-object sc" id="sc.ceil">
<span class="sig-name descname"><span class="pre">ceil</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x</span></em><span class="sig-paren">)</span></dt>
<dd><p>Round <code class="docutils literal notranslate"><span class="pre">x</span></code> to the next largest integer. Only real, dimensionless arguments are allowed.</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.floor">
<span class="sig-name descname"><span class="pre">floor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x</span></em><span class="sig-paren">)</span></dt>
<dd><p>Round <code class="docutils literal notranslate"><span class="pre">x</span></code> to the next smallest integer. Only real, dimensionless arguments are allowed.</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.round">
<span class="sig-name descname"><span class="pre">round</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x</span></em><span class="optional">[</span>; <em class="sig-param"><span class="pre">n</span></em><span class="optional">]</span><span class="sig-paren">)</span></dt>
<dd><p>Round <code class="docutils literal notranslate"><span class="pre">x</span></code> to the nearest number with <code class="docutils literal notranslate"><span class="pre">n</span></code> fractional digits; <code class="docutils literal notranslate"><span class="pre">n</span></code> may be omitted, in which case <code class="docutils literal notranslate"><span class="pre">x</span></code> is rounded to the closest integer. Ties are broken by rounding to the nearest <em>even</em> integer. This rounding strategy, commonly known as <em>Banker’s rounding</em>, serves to avoid a bias (for instance when averaging or summing).</p>
<p>Example:</p>
<table class="-x-quark-literal-block"><tbody><tr><td width="100%" class="-x-quark-literal-block-td"><div class="highlight-speedcrunch notranslate"><div class="highlight"><pre><span></span><span class="n">round</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="ge">= 0</span>

<span class="n">round</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
<span class="ge">= 2</span>

<span class="n">round</span><span class="p">(</span><span class="mf">12.345</span><span class="p">;</span> <span class="mi">2</span><span class="p">)</span>
<span class="ge">= 12.34</span>

<span class="n">round</span><span class="p">(</span><span class="mi">12345</span><span class="p">;</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="ge">= 12300</span>
</pre></div>
</div>
</td></tr></tbody></table><p>Only real, dimensionless arguments are allowed.</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.trunc">
<span class="sig-name descname"><span class="pre">trunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x</span></em><span class="optional">[</span>; <em class="sig-param"><span class="pre">n</span></em><span class="optional">]</span><span class="sig-paren">)</span></dt>
<dd><p>Truncate (rounds toward zero) <code class="docutils literal notranslate"><span class="pre">x</span></code> to the next number with <code class="docutils literal notranslate"><span class="pre">n</span></code> fractional digits; <code class="docutils literal notranslate"><span class="pre">n</span></code> may be omitted, in which case <code class="docutils literal notranslate"><span class="pre">x</span></code> is rounded to integer. Only real, dimensionless arguments are allowed.</p>
<table class="-x-quark-box -x-quark-admonition -x-quark-seealso"><tbody><tr><td width="100%" class="-x-quark-box-td"><div class="admonition seealso">
<p class="admonition-title">See also</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="basic.html#sc.int" title="int"><code class="xref sc sc-func docutils literal notranslate"><span class="pre">int()</span></code></a></div>
<div class="line"><a class="reference internal" href="basic.html#sc.frac" title="frac"><code class="xref sc sc-func docutils literal notranslate"><span class="pre">frac()</span></code></a></div>
</div>
</div>
</td></tr></tbody></table></dd></dl>

</section>
<section id="integer-division">
<h2>Integer Division</h2>
<dl class="sc function">
<dt class="sig sig-object sc" id="sc.idiv">
<span class="sig-name descname"><span class="pre">idiv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">a</span></em>; <em class="sig-param"><span class="pre">b</span></em><span class="sig-paren">)</span></dt>
<dd><p>Compute the integer part of the division <code class="docutils literal notranslate"><span class="pre">a/b</span></code>. The result is guaranteed to be exact. While <code class="docutils literal notranslate"><span class="pre">int(a/b)</span></code> covers a larger range of arguments, the result is computed via floating point arithmetics and may be subject to rounding errors. This function will instead yield an error if the parameters exceed the safe bounds.</p>
<p>It is possible to apply <a class="reference internal" href="#sc.idiv" title="idiv"><code class="xref sc sc-func docutils literal notranslate"><span class="pre">idiv()</span></code></a> to non-integers as well, but be aware that rounding errors might be lead to off-by-one errors. If the result depends on the validity of the guard digits, <em>NaN</em> is returned.</p>
<p>Only real, dimensionless arguments are allowed.</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.mod">
<span class="sig-name descname"><span class="pre">mod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">a</span></em>; <em class="sig-param"><span class="pre">b</span></em><span class="sig-paren">)</span></dt>
<dd><p>Compute the remainder of the integer division <code class="docutils literal notranslate"><span class="pre">a/b</span></code>. The divisor <code class="docutils literal notranslate"><span class="pre">b</span></code> must be non-zero. The result takes the sign of <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p>
<p>This function always returns an exact result, provided that the parameters are exact.</p>
<p>You can use this function with non-integers as well, but rounding errors might lead to off-by-one errors. Evaluating <a class="reference internal" href="#sc.mod" title="mod"><code class="xref sc sc-func docutils literal notranslate"><span class="pre">mod()</span></code></a> can be computationally expensive, so the function is internally restricted to 250 division loops.</p>
<p>Only real, dimensionless arguments are allowed.</p>
</dd></dl>

<dl class="sc function">
<dt class="sig sig-object sc" id="sc.gcd">
<span class="sig-name descname"><span class="pre">gcd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">n1</span></em>; <em class="sig-param"><span class="pre">n2</span></em>; <em class="sig-param"><span class="pre">...</span></em><span class="sig-paren">)</span></dt>
<dd><p>Returns the greatest common divisor of the arguments (at least two must be given). You can use this function to reduce a rational number.
If a rational number is given as <code class="docutils literal notranslate"><span class="pre">p/q</span></code>, its reduced form is <code class="docutils literal notranslate"><span class="pre">(p</span> <span class="pre">/</span> <span class="pre">gcd(p;</span> <span class="pre">q))</span> <span class="pre">/</span> <span class="pre">(q</span> <span class="pre">/</span> <span class="pre">gcd(p;</span> <span class="pre">q))</span></code>.</p>
<p>A closely related function is <code class="docutils literal notranslate"><span class="pre">lcm()</span></code> (<em>least common multiple</em>). While <code class="docutils literal notranslate"><span class="pre">lcm()</span></code> is not defined by default
in SpeedCrunch, you can define it yourself as:</p>
<table class="-x-quark-literal-block"><tbody><tr><td width="100%" class="-x-quark-literal-block-td"><div class="highlight-speedcrunch notranslate"><div class="highlight"><pre><span></span><span class="n">lcm</span><span class="p">(</span><span class="n">n1</span><span class="p">;</span> <span class="n">n2</span><span class="p">)</span> <span class="o">=</span> <span class="n">n1</span> <span class="o">*</span> <span class="n">n2</span> <span class="o">/</span> <span class="n">gcd</span><span class="p">(</span><span class="n">n1</span><span class="p">;</span> <span class="n">n2</span><span class="p">)</span>
</pre></div>
</div>
</td></tr></tbody></table><p>Only real, integer arguments are allowed.</p>
</dd></dl>

</section>
</section>


            <div class="clearer"></div>
          </div>
      </div>
      <div class="clearer"></div>
    </div>
  <table class="navbar navbar-bottom">
    
  <tr>
    <td width="50%">
      <a class="nav-item nav-item-0"
         href="../contents.html">SpeedCrunch 0.12.1 documentation</a> &#187; <a class="nav-item nav-item-1"
             href="index.html">Reference</a>
          
    </td>

    <td align="right" width="50%">
      <a class="rel-item rel-item-1"
           href="basic.html"
           title="Basic Math Functions"
           >previous</a>
         | 
      <a class="rel-item rel-item-2"
           href="statistical.html"
           title="Statistical Functions"
           >next</a>
         | 
      <a class="rel-item rel-item-3"
           href="../sc-functionindex.html"
           title="Function Index"
           >functions</a>
         | 
      <a class="rel-item rel-item-4"
           href="../genindex.html"
           title="General Index"
           >index</a>
        
      
    </td>

  </tr>

    <tr>
      <td colspan="2" align="center">
        
    <div class="footer" role="contentinfo">
    &#169; Copyright 2016, The SpeedCrunch Developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
      </td>
    </tr>
  </table>

  </body>
</html>